<!--
====================================================================================
AI INSTRUCTION: Your Role and Core Directive
====================================================================================

You are the world's best recruiter and assessor of candidates for professional 
suitability in the iGaming / Online Casino industry for hybrid (office + remote) work.

Your Key Principles:
1.  DOMAIN > EVERYTHING: Relevant iGaming experience (payments, bonuses, compliance, 
    game testing, anti-fraud) is the highest priority.
2.  ENGINEERING MINDSET: You value candidates who not only complete tasks but also 
    build systems, automate processes, and demonstrate architectural ownership.
3.  BUSINESS CONTEXT: You assess how well a candidate understands business goals
    (player retention, 24/7 stability, time-to-market).
4.  DEPTH OVER BREADTH: Deep knowledge in one key technology is more important
    than a superficial acquaintance with ten.
5.  SOFT SKILLS ARE CRITICAL: In a hybrid work environment, autonomy,
    proactiveness, and excellent communication skills are crucial.
    
Your task is to analyze the candidate's CV provided by the user
and fill out this template, following all the instructions in the comments below.
====================================================================================
-->

<!--
* Hiring CoPilot Report
* Version: 3.0.0
* Last Updated: 21.05.2024
-->

<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hiring CoPilot - [Candidate Name]</title>
    <style>
        /* ============================================= */
        /* ============== VERSION 1.0.0 ================ */
        /* ============================================= */

        /* ============================================= */
        /* ============= VARIABLES & THEMES ============ */
        /* ============================================= */
        :root {
            --color-bg: #F9FAFB; --color-surface: #FFFFFF; --color-primary: #22D3EE; --color-primary-a: rgba(34, 211, 238, 0.15); --color-button-text: #1F2937; --color-text-primary: #1F2937; --color-text-secondary: #6B7280; --color-border: #E5E7EB;
            --danger-color: #EF4444; --danger-bg: rgba(239, 68, 68, 0.1); --color-surface-hover: rgba(34, 211, 238, 0.1);
            --score-good: #16A34A; --score-average: #F59E0B; --score-bad: #DC2626;
        }
        [data-theme="dark"] {
            --color-bg: #111827; --color-surface: #1F2937; --color-primary: #22D3EE; --color-primary-a: rgba(34, 211, 238, 0.15); --color-button-text: #111827; --color-text-primary: #E9FAFA; --color-text-secondary: #B0BEC5; --color-border: #374151;
            --danger-color: #F87171; --danger-bg: rgba(248, 113, 113, 0.1); --color-surface-hover: #1E2840;
            --score-good: #4ADE80; --score-average: #FBBF24; --score-bad: #F87171;
        }

        /* ============================================= */
        /* ============ BASE & GLOBAL STYLES =========== */
        /* ============================================= */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: var(--color-bg); color: var(--color-text-primary); font-size: 16px; line-height: 1.6; transition: background-color 0.3s, color 0.3s; }
        .container { width: 95%; max-width: 1400px; margin: 0 auto; padding: 20px; }

        /* ============================================= */
        /* ============== CONTROLS SECTION ============= */
        /* ============================================= */
        #controls-section { position: sticky; top: 0; z-index: 20; background: var(--color-bg); padding: 12px 0; border-bottom: 1px solid var(--color-border); }
        .controls-panel { display: flex; gap: 0.75em; align-items: center; flex-wrap: wrap; }
        #header-title { font-size: 1.25em; font-weight: 600; color: var(--color-primary); margin-right: auto; padding-right: 1em; white-space: nowrap; }
        .control-btn { position: relative; background-color: var(--color-surface); border: 1px solid var(--color-border); padding: 0; border-radius: 8px; color: var(--color-text-secondary); cursor: pointer; display: flex; align-items: center; justify-content: center; height: 44px; width: 44px; flex-shrink: 0; transition: all 0.2s ease; }
        .control-btn:hover { border-color: var(--color-primary); color: var(--color-primary); }
        .control-btn svg { width: 22px; height: 22px; pointer-events: none; }
        #search-toggle-btn { display: none; }
        #theme-switcher .icon-sun { display: none; }
        #theme-switcher .icon-moon { display: block; }
        [data-theme="light"] #theme-switcher .icon-sun { display: block; }
        [data-theme="light"] #theme-switcher .icon-moon { display: none; }
        #searchInput { flex-grow: 1; min-width: 150px; padding: 12px 15px; border-radius: 8px; font-size: 16px; background-color: var(--color-bg); color: var(--color-text-primary); border: 1px solid var(--color-border); height: 44px; transition: all 0.2s ease; }
        #searchInput:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 3px var(--color-primary-a); }

        /* Dropdowns */
        .dropdown-wrapper { position: relative; }
        .dropdown-menu { display: none; position: absolute; top: 110%; right: 0; background-color: var(--color-surface); border: 1px solid var(--color-border); border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 8px; z-index: 100; min-width: 280px; }
        .dropdown-menu.is-open { display: block; }
        .dropdown-menu a { display: block; padding: 10px 15px; text-decoration: none; color: var(--color-text-primary); border-radius: 4px; }
        .dropdown-menu a:hover { background-color: var(--color-surface-hover); }
        #actions-dropdown .action-item { padding: 10px; }
        #actions-dropdown .email-group { display: flex; gap: 10px; }
        #actions-dropdown .email-input { flex-grow: 1; padding: 8px 12px; border-radius: 6px; border: 1px solid var(--color-border); background-color: var(--color-bg); color: var(--color-text-primary); }
        #actions-dropdown .btn-action { display: block; width: 100%; background-color: var(--color-primary); color: var(--color-button-text); padding: 10px; border: none; border-radius: 6px; font-weight: 500; cursor: pointer; text-align: center; }
        #actions-dropdown .btn-action:hover { opacity: 0.9; }

        /* ============================================= */
        /* ============ PAGE-LEVEL ELEMENTS ============ */
        /* ============================================= */
        #scrollToTopBtn { position: fixed; bottom: 20px; right: 20px; z-index: 1000; opacity: 0; visibility: hidden; transform: translateY(20px); transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease; }
        #scrollToTopBtn.is-visible { opacity: 1; visibility: visible; transform: translateY(0); }
        footer { text-align: center; margin-top: 2rem; padding: 2rem 0; color: var(--color-text-secondary); font-size: 0.9em; }
        footer p { margin: 0.25rem 0; }
        footer .copyright { color: var(--color-primary); font-weight: bold; }
        .report-header { text-align: center; margin-top: 1.5rem; margin-bottom: 2.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--color-border); }
        .report-header h2 { font-size: 1.5em; color: var(--color-text-primary); font-weight: 500; display: flex; align-items: center; justify-content: center; gap: 12px; }
        .gender-icon-wrapper { width: 28px; height: 28px; color: var(--color-primary); flex-shrink: 0; }
        .gender-icon { width: 28px; height: 28px; }
        .report-header h2[data-gender="male"] .icon-female { display: none; }
        .report-header h2[data-gender="female"] .icon-male { display: none; }
        .report-header h3 { color: var(--color-text-secondary); font-weight: 400; font-style: italic; margin-top: 8px; }

        /* ============================================= */
        /* ================ CARD STYLES ================ */
        /* ============================================= */
        .card { background-color: var(--color-surface); border-radius: 12px; padding: 30px; margin-bottom: 25px; border: 1px solid var(--color-border); box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: all 0.3s; }
        .card.is-hidden { display: none; }
        .card h2, .card > h3 { color: var(--color-text-primary); font-size: 1.4em; font-weight: 600; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--color-border); display: flex; justify-content: space-between; align-items: center; gap: 15px; }
        .card h2 > span:first-child, .card > h3 > span:first-child { flex-grow: 1; }
        .card h2 .action-button, .card > h3 .action-button { background: none; border: 1px solid var(--color-border); color: var(--color-text-secondary); cursor: pointer; border-radius: 6px; padding: 6px 8px; display: flex; align-items: center; gap: 6px; transition: all 0.2s ease; font-size: 0.8em; flex-shrink: 0; }
        .card h2 .action-button:hover, .card > h3 .action-button:hover { color: var(--color-primary); border-color: currentColor; }
        .card h3 { font-size: 1.2em; margin-top: 25px; margin-bottom: 15px;}
        .category-weight { font-size: 0.8em; font-weight: 500; padding: 4px 8px; border-radius: 6px; background-color: var(--color-bg); border: 1px solid var(--color-border); }

        /* Summary Grid in Summary Card */
        .summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .summary-block { padding: 20px; border-radius: 8px; border: 1px solid var(--color-border); }
        .summary-block h4 { margin-top: 0; margin-bottom: 15px; font-size: 1.1em; }
        .summary-block ul { list-style: none; padding: 0; } .summary-block ul li { margin-bottom: 10px; }
        .summary-block.pros-block ul li::before { content: '🟢'; margin-right: 10px; }
        .summary-block.risks-block ul li::before { content: '🔴'; margin-right: 10px; }
        .summary-block.risks-block { border-left: 4px solid var(--danger-color); }
        .summary-block.verdict-block, .summary-block.recommendation-block { grid-column: 1 / -1; }

        /* ============================================= */
        /* ======== COMPETENCY BLOCK LIST STYLES ======= */
        /* ============================================= */
        .competency-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 12px; margin-top: 5px; }
        .competency-list li { background-color: var(--color-bg); border: 1px solid var(--color-border); border-radius: 8px; padding: 15px 20px; position: relative; padding-left: 40px; }
        .competency-list li::before { content: ''; position: absolute; left: 15px; top: 21px; width: 10px; height: 10px; border-radius: 50%; }
        .competency-list li.score-good::before { background-color: var(--score-good); }
        .competency-list li.score-average::before { background-color: var(--score-average); }
        .competency-list li.score-bad::before { background-color: var(--score-bad); }
        .competency-name { font-weight: 600; display: block; margin-bottom: 4px; color: var(--color-text-primary); display: flex; justify-content: space-between; align-items: center; }
        .item-weight { font-size: 0.8em; font-weight: 500; color: var(--color-text-secondary); }
        .competency-justification { font-size: 0.9em; color: var(--color-text-secondary); line-height: 1.5; margin: 0; }
        
        /* ============================================= */
        /* ============= SPECIFIC COMPONENTS =========== */
        /* ============================================= */
        .grade-card .grade-value { font-size: 1.6em; font-weight: bold; color: var(--color-primary); padding: 12px; background-color: var(--color-bg); border: 1px solid var(--color-border); border-radius: 8px; text-align: center; margin-bottom: 15px; }
        
        /* --- Test Assignment & Doubts Section --- */
        .collapsible-toggle { all: unset; box-sizing: border-box; width: auto; display: inline-flex; align-items: center; cursor: pointer; flex-shrink: 0; }
        .collapsible-toggle .toggle-icon { transition: transform 0.3s ease; width: 24px; height: 24px; color: var(--color-text-secondary); }
        .collapsible-toggle.is-open .toggle-icon { transform: rotate(180deg); }
        .collapsible-content { display: grid; grid-template-rows: 0fr; transition: grid-template-rows 0.4s ease; }
        .collapsible-content > div { overflow: hidden; }
        .is-open + .collapsible-content { grid-template-rows: 1fr; }
        .collapsible-content pre { background-color: var(--color-surface-hover); padding: 15px; border-radius: 8px; overflow-x: auto; font-family: 'SF Mono', 'Fira Code', 'Roboto Mono', monospace; font-size: 15px; line-height: 1.6; border: 1px solid var(--color-border); margin-top: 15px; }
        .question-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 15px; margin-top: 15px; }
        .question-list li { padding: 15px; border: 1px solid var(--color-border); border-left-width: 4px; border-radius: 8px; background-color: var(--color-bg); margin: 0; }
        .question-list .question-critical { border-left-color: var(--danger-color); }
        .question-list .question-regular { border-left-color: var(--color-primary); }

        /* --- Final Assessment Section --- */
        #card-final-assessment h2 { font-size: 1.4em; margin-bottom: 25px; }
        .assessment-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px 25px; }
        .assessment-block { background-color: var(--color-bg); padding: 20px; border-radius: 8px; border: 1px solid var(--color-border); }
        .assessment-block h3 { font-size: 1.1em; font-weight: 600; margin-top: 0; padding-bottom: 10px; color: var(--color-text-primary); border-bottom: 1px solid var(--color-border); }
        .assessment-block#assessment-block-scenarios, .assessment-block#assessment-block-recommendation { grid-column: 1 / -1; }
        #scoring-summary p { margin-bottom: 8px; font-size: 0.95em; }
        #scoring-summary .final-score { margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--color-border); font-size: 1.25em; font-weight: bold; }
        #scoring-summary ul { list-style-type: '👉'; padding-left: 20px; font-size: 0.95em; }
        .score-visualizer { border-radius: 8px; padding: 20px; text-align: center; font-size: 1.4em; font-weight: bold; transition: background-color 0.3s ease; }
        .score-viz-bad, .score-viz-good { color: #FFFFFF; }
        .score-viz-average { color: var(--color-button-text); }
        .score-viz-bad { background-color: var(--score-bad); }
        .score-viz-average { background-color: var(--score-average); }
        .score-viz-good { background-color: var(--score-good); }
        .scenario-list, .plan-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 15px; margin-top: 15px; }
        .scenario-list .scenario, .plan-list .plan-step { padding: 15px; border-radius: 8px; background-color: var(--color-surface); margin: 0; border: 1px solid var(--color-border); border-left-width: 4px; }
        .scenario.scenario-success, .plan-list .plan-step { border-left-color: var(--score-good); }
        .scenario.scenario-partial { border-left-color: var(--score-average); }
        .scenario.scenario-danger { border-left-color: var(--danger-color); }
        
        /* ============================================= */
        /* ================ MEDIA QUERIES ============== */
        /* ============================================= */
        @media (min-width: 1025px) { .container { width: 80%; } }
        @media (max-width: 900px) {
            .assessment-grid { grid-template-columns: 1fr; }
            .assessment-block#assessment-block-scenarios, .assessment-block#assessment-block-recommendation { grid-column: auto; }
        }
        @media (max-width: 768px) {
            body { font-size: 14px; }
            .controls-panel { gap: 0.5em; }
            #header-title { font-size: 1.1em; }
            #search-toggle-btn { display: flex; }
            #searchInput { display: none; order: 10; width: 100%; margin-top: 0.5rem; }
            #controls-section.is-search-open #searchInput { display: block; }
            .summary-grid { grid-template-columns: 1fr; }
            .dropdown-wrapper { position: static; }
            .dropdown-menu { width: calc(100% - 40px); left: 20px; right: 20px; }
        }

        @media print {
            body, #controls-section { background: #fff !important; }
            #header-title { display: block !important; }
            .container { width: 100%; max-width: 100%; padding: 0; }
            #controls-section, #scrollToTopBtn, footer { display: none; }
            .card { box-shadow: none; border: 1px solid #ddd; page-break-inside: avoid; }
            .assessment-block, .competency-list li, .scenario-list li, .question-list li, .plan-list li { page-break-inside: avoid; }
        }
    </style>
</head>
<body>

    <!-- ============================================= -->
    <!-- ============== CONTROLS SECTION ============= -->
    <!-- ============================================= -->
    <header id="controls-section">
        <div class="container">
            <div class="controls-panel">
                <h1 id="header-title">Hiring CoPilot</h1>
                <button id="search-toggle-btn" class="control-btn" title="Поиск по отчету"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></button>
                <button id="theme-switcher" class="control-btn" title="Сменить тему" aria-label="Сменить тему"><svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg><svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button>
                <input type="search" id="searchInput" placeholder="Поиск по отчету...">
                <div class="dropdown-wrapper">
                  <button id="section-selector-btn" class="control-btn" title="Перейти к секции" aria-haspopup="true" aria-expanded="false" aria-label="Перейти к секции"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></button>
                  <div id="section-selector-dropdown" class="dropdown-menu"></div>
                </div>
                <div class="dropdown-wrapper">
                    <button id="actions-btn" class="control-btn" title="Действия" aria-haspopup="true" aria-expanded="false" aria-label="Действия"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></button>
                    <div id="actions-dropdown" class="dropdown-menu">
                        <div class="action-item"><button id="save-report-pdf" class="btn-action">Сохранить в PDF</button></div>
                        <div class="action-item"><div class="email-group"><input type="email" id="recipient-email" class="email-input" placeholder="Email получателя"></div></div>
                        <div class="action-item"><button id="send-report-email" class="btn-action">Отправить по Email</button></div>
                    </div>
                </div>
            </div>
        </div> 
    </header>

    <!-- ============================================= -->
    <!-- ================ MAIN CONTENT =============== -->
    <!-- ============================================= -->
    <main>
        <div class="container">
            <!-- Report Header -->
            <div class="report-header">
                <!-- Для смены иконки измените data-gender на "female" -->
                <h2 data-gender="male">
                    <span class="gender-icon-wrapper">
                        <svg class="gender-icon icon-male" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                        <svg class="gender-icon icon-female" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 22 16"></polyline><polyline points="22 11 17 16"></polyline></svg>
                    </span>
                    <span>Кандидат: [Candidate Name]</span>
                </h2>
                <!-- Для смены профиля весов измените текст на "Junior Frontend Developer" -->
                <h3 id="position-title">⭐️ Позиция: [Position Title]</h3>
            </div>
            
            <!-- Summary Card -->
            <div id="card-summary" class="card" data-integrity-risk="true">
                <h2>📄 Краткая итоговая сводка</h2>
                <div class="summary-grid">
                    <div class="summary-block verdict-block">
                        <p>Кандидат демонстрирует релевантный опыт в <strong>[Основной домен]</strong>. Однако, заявленные метрики, такие как <strong>[Ключевая метрика]</strong>, выглядят амбициозно и требуют обязательной проверки на техническом интервью для подтверждения их достоверности.</p>
                        <p style="margin-top: 1em; font-style: italic; color: var(--color-text-secondary);">Комментарий iGaming рекрутера: Карьерный трек выглядит логичным для нашей индустрии. Кандидат заявляет опыт с высоконагруженными системами, что является критически важным. Необходимо тщательно проверить реальный масштаб проектов и личный вклад кандидата, так как в iGaming цифры часто преувеличиваются.</p>
                    </div>
                    <div class="summary-block pros-block"><h4>Ключевые плюсы</h4><ul><li>Опыт с [Основная технология] в контексте высоконагруженных систем.</li><li>Продемонстрирован фокус на измеримые бизнес-результаты ([Пример достижения]).</li><li>Глубокий опыт с релевантным технологическим стеком ([Технология 1], [Технология 2]).</li></ul></div>
                    <div class="summary-block risks-block"><h4>Основные риски</h4><ul><li><strong>(КРИТИЧЕСКИЙ) Риск недостоверности данных:</strong> Заявленные метрики ([Ключевая метрика]) требуют детальной верификации.</li><li>Неясна глубина знаний в [Вспомогательная технология] (перечислен в навыках, но без проектного контекста).</li><li>Отсутствует явное упоминание опыта с [Смежная доменная область].</li></ul></div>
                    <div class="summary-block recommendation-block"><p><strong>➡️ Вердикт:</strong> <strong>Рекомендовать на техническое интервью. Первоочередная задача - верификация ключевых достижений и метрик.</strong></p></div>
                </div>
            </div>
            
            <!-- Skills & Formal Cards (Block Layout) -->
            <div id="card-hard-skills" class="card"><h2><span>🛠️ Hard Skills</span><span class="category-weight"></span></h2><ul class="competency-list"><li class="score-good"><span class="competency-name">[Доменная компетенция 1]<span class="item-weight"></span></span><p class="competency-justification">[Описание опыта, подтверждающего компетенцию. Например, проектирование и разработка ключевого модуля.]</p></li><li class="score-good"><span class="competency-name">[Архитектурная компетенция]<span class="item-weight"></span></span><p class="competency-justification">[Описание опыта с архитектурными паттернами и технологиями, например, микросервисы, event-sourcing.]</p></li><li class="score-good"><span class="competency-name">[Компетенция в работе с данными]<span class="item-weight"></span></span><p class="competency-justification">[Описание опыта с базами данных, брокерами сообщений или системами обработки данных.]</p></li></ul></div>
            <div id="card-tech-stack" class="card"><h2><span>💻 Технический стек</span><span class="category-weight"></span></h2><ul class="competency-list"><li class="score-good"><span class="competency-name">[Основной язык/фреймворк]<span class="item-weight"></span></span><p class="competency-justification">[Обоснование, например: "Основной инструмент на нескольких последних проектах."]</p></li><li class="score-good"><span class="competency-name">[Ключевая технология 1]<span class="item-weight"></span></span><p class="competency-justification">[Контекст использования технологии, например, для асинхронной коммуникации.]</p></li><li class="score-average"><span class="competency-name">[Вспомогательная технология]<span class="item-weight"></span></span><p class="competency-justification">[Указана в списке навыков, но требует проверки глубины практического опыта.]</p></li></ul></div>
            <div id="card-soft-skills" class="card"><h2><span>🗣️ Soft Skills</span><span class="category-weight"></span></h2><ul class="competency-list"><li class="score-good"><span class="competency-name">Проактивность и Владение<span class="item-weight"></span></span><p class="competency-justification">[Формулировки в резюме указывают на взятие ответственности за результат.]</p></li><li class="score-good"><span class="competency-name">Коммуникация (письменная)<span class="item-weight"></span></span><p class="competency-justification">[Резюме четко структурировано, без ошибок, информация подана ясно.]</p></li><li class="score-average"><span class="competency-name">Самостоятельность / Удаленная работа<span class="item-weight"></span></span><p class="competency-justification">[Не указано явно, но подразумевается по характеру прошлых ролей. Требует уточнения.]</p></li><li class="score-bad"><span class="competency-name">[Современный навык, например, AI ассистенты]<span class="item-weight"></span></span><p class="competency-justification">[Нет упоминаний об использовании современных инструментов для повышения производительности.]</p></li></ul></div>
            <div id="card-formal" class="card"><h2><span>🎓 Доп. информация</span><span class="category-weight"></span></h2><ul class="competency-list"><li class="score-good"><span class="competency-name">Уровень английского<span class="item-weight"></span></span><p class="competency-justification">[Указан требуемый или более высокий уровень.]</p></li><li class="score-good"><span class="competency-name">Профильное образование<span class="item-weight"></span></span><p class="competency-justification">[Наличие профильного технического образования.]</p></li><li class="score-bad"><span class="competency-name">Курсы и сертификаты<span class="item-weight"></span></span><p class="competency-justification">[Релевантные для позиции сертификаты отсутствуют.]</p></li></ul></div>
            <div id="card-grade" class="card grade-card"><h2>⭐ Оценка грейда (Grade)</h2><div class="grade-value">[Candidate Grade] (подлежит верификации)</div><p><strong>Обоснование:</strong> Заявленный опыт и масштаб задач соответствуют грейду [Candidate Grade]. Финальное подтверждение возможно только после технического интервью.</p></div>
            
            <!-- Doubts Section -->
            <div id="card-doubts" class="card">
                <h2>🤔 Что вызывает сомнения (вопросы для проверки)</h2>
                <ul class="question-list">
                    <li class="question-critical"><strong>(КРИТИЧЕСКИЙ)</strong> [Критический вопрос, направленный на проверку самого амбициозного заявления в резюме, например, о метрике производительности.]</li>
                    <li class="question-regular">[Уточняющий вопрос о конкретном техническом достижении, упомянутом в резюме.]</li>
                    <li class="question-regular">[Вопрос о решении сложной архитектурной проблемы, связанной с одной из ключевых технологий.]</li>
                    <li class="question-regular">[Вопрос для проверки глубины знаний во вспомогательной технологии, например, "Расскажите о вашем опыте с..."]</li>
                    <li class="question-regular">[Вопрос о знакомстве со смежной доменной областью, важной для позиции.]</li>
                </ul>
            </div>
            
            <!-- Test Assignment Section -->
            <div id="card-test-assignment" class="card">
                <h2><span>🧪 Тестовое задание</span><button class="action-button" id="download-task-md-btn" title="Сохранить задание в .md"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg></button><button class="collapsible-toggle" aria-expanded="false" title="Показать/скрыть"><svg class="toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></h2>
                <div class="collapsible-content"><div><pre><code id="test-assignment-md">## Задача: Проектирование системы "Мгновенные кэшбэк-бонусы"

**Контекст:**
Система должна начислять % от проигрыша игрока обратно на его бонусный баланс в режиме реального времени. Система должна быть отказоустойчивой и выдерживать до 10 000 игровых событий (ставок) в секунду.

### Требования к ответу:
1.  Схема высокоуровневой архитектуры (C4 model: Containers).
2.  Описание ключевых сервисов и их зон ответственности.
3.  Выбор технологий (БД, брокеры сообщений, кэш) и его обоснование.
4.  Описание API-контрактов между ключевыми сервисами.

### Критерии оценки:
- Системность мышления.
- Понимание доменной специфики (транзакционность, идемпотентность).
- Фокус на отказоустойчивости и масштабируемости.
- Умение обосновать технические решения.</code></pre></div></div>
                <h3 style="margin-top: 20px;"><span>Форма оценки ТЗ</span><button class="action-button" id="download-evaluation-md-btn" title="Сохранить форму оценки в .md"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg></button><button class="collapsible-toggle" aria-expanded="false" title="Показать/скрыть"><svg class="toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></h3>
                <div class="collapsible-content"><div><pre><code id="evaluation-form-md">| Критерий                  | Оценка (1-5) | Комментарии                                |
|---------------------------|:------------:|--------------------------------------------|
| **Чистота кода**          |              | Структура, читаемость, следование SOLID.   |
| **Корректность решения**  |              | Соответствие требованиям, обработка ошибок.|
| **Эффективность**         |              | Выбор алгоритмов, работа с памятью/CPU.    |
| **Интерпретация результатов** |            | Способность объяснить принятые решения.    |
</code></pre></div></div>
            </div>

            <!-- Final Assessment Card -->
            <div id="card-final-assessment" class="card">
                <h2>🏁 Итоговая Оценка</h2>
                <div class="assessment-grid">
                    <div class="assessment-block"><h3>Визуальная Оценка</h3><div id="score-visualizer" class="score-visualizer"><span></span></div></div>
                    <div class="assessment-block"><h3>Расчет Оценки</h3><div id="scoring-summary"></div></div>
                    <div id="assessment-block-scenarios" class="assessment-block">
                        <h3>Сценарии дальнейших действий</h3>
                        <ul class="scenario-list">
                            <li class="scenario scenario-success"><p><strong>Сценарий 1: Успешная верификация (Ожидаемый).</strong></p><p>Кандидат на интервью уверенно подтверждает все заявленные навыки и достижения, предоставляя убедительные технические детали. Тестовое задание выполнено на высоком уровне.<br><strong>Решение:</strong> Готовить оффер на позицию [Position Title].</p></li>
                            <li class="scenario scenario-partial"><p><strong>Сценарий 2: Частичное подтверждение.</strong></p><p>Кандидат хорошо разбирается в ключевых технологиях, но некоторые заявленные метрики оказываются преувеличенными или командными, а не личными достижениями. Тестовое задание выполнено удовлетворительно.<br><strong>Решение:</strong> Рассмотреть на позицию грейдом ниже ([Lower Grade Position]) с соответствующей корректировкой зарплатной вилки.</p></li>
                            <li class="scenario scenario-danger"><p><strong>Сценарий 3: Подтверждение несоответствий (Отказ).</strong></p><p>В ходе интервью выясняется, что ключевые достижения были значительно преувеличены, и кандидат не может предоставить убедительных технических деталей. Это подтверждает критический риск недостоверной информации.<br><strong>Решение:</strong> Отклонить кандидатуру по причине несоответствия ценностям компании.</p></li>
                        </ul>
                    </div>
                    <div id="assessment-block-recommendation" class="assessment-block">
                        <h3>Итоговая Рекомендация (План Интервью)</h3>
                        <ul class="plan-list">
                            <li class="plan-step"><strong>Этап 1: Верификация (15-20 мин).</strong> Первоочередная задача — снять критический риск. Сфокусироваться на проекте с метрикой [Ключевая метрика]. Задать прямые вопросы из блока "Что вызывает сомнения". Если кандидат не может дать убедительные технические ответы, дальнейшее интервью нецелесообразно.</li>
                            <li class="plan-step"><strong>Этап 2: Deep-Dive (25-30 мин).</strong> В случае успеха, проверить глубину знаний [Основная технология]. Темы: [Тема 1], [Тема 2], [Тема 3].</li>
                            <li class="plan-step"><strong>Этап 3: System Design (20-25 мин).</strong> Обсудить предложенное тестовое задание или аналогичную задачу по проектированию. Оценить системность мышления, выбор технологий и понимание компромиссов.</li>
                            <li class="plan-step"><strong>Этап 4: Q&A и Soft Skills (10 мин).</strong> Оценить мотивацию, подход к командной работе и решению проблем. Дать кандидату возможность задать вопросы.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ============================================= -->
    <!-- =================== FOOTER ================== -->
    <!-- ============================================= -->
    <footer>
        <p>Generated by MAE OMA-II / HRCV</p>
        <p class="copyright">© <span id="copyright-year"></span> McBile AI-Engine</p>
    </footer>

    <!-- ============================================= -->
    <!-- ============== UTILITY ELEMENTS ============= -->
    <!-- ============================================= -->
    <button id="scrollToTopBtn" class="control-btn" title="Scroll to top" aria-label="Scroll to top"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg></button>
    
    <script>
        /* ============================================= */
        /* ============== VERSION 1.0.0 ================ */
        /* ============================================= */
        (() => {
            // ========== CONFIGURATION (INTEGRATED) ==========
            const weightingProfiles = {
                "[Position Title]": {
                    sections: { "hard-skills": 35, "tech-stack": 35, "soft-skills": 20, "formal": 10 },
                    items: { "hard-skills": [50, 30, 20], "tech-stack": [50, 30, 20], "soft-skills": [50, 25, 15, 10], "formal": [40, 40, 20] }
                },
                "Junior Frontend Developer": { // Example of a different profile
                    sections: { "hard-skills": 25, "tech-stack": 45, "soft-skills": 20, "formal": 10 },
                    items: { "hard-skills": [30, 40, 30], "tech-stack": [50, 30, 20], "soft-skills": [40, 30, 20, 10], "formal": [20, 40, 40] }
                },
                "Default": {
                    sections: { "hard-skills": 35, "tech-stack": 30, "soft-skills": 25, "formal": 10 },
                    items: { "hard-skills": [45, 30, 25], "tech-stack": [45, 30, 25], "soft-skills": [45, 25, 15, 15], "formal": [40, 40, 20] }
                }
            };
            
            // ========== DOM ELEMENTS & STATE ==========
            const D = document;
            const DOM = {
                htmlElement: D.documentElement,
                controlsSection: D.getElementById('controls-section'),
                themeSwitcher: D.getElementById('theme-switcher'),
                searchToggleBtn: D.getElementById('search-toggle-btn'),
                searchInput: D.getElementById('searchInput'),
                sectionSelectorBtn: D.getElementById('section-selector-btn'),
                sectionSelectorDropdown: D.getElementById('section-selector-dropdown'),
                actionsBtn: D.getElementById('actions-btn'),
                actionsDropdown: D.getElementById('actions-dropdown'),
                savePdfBtn: D.getElementById('save-report-pdf'),
                sendEmailBtn: D.getElementById('send-report-email'),
                emailInput: D.getElementById('recipient-email'),
                scrollToTopBtn: D.getElementById('scrollToTopBtn'),
                allCards: D.querySelectorAll('.card'),
                copyrightYearSpan: D.getElementById('copyright-year'),
                positionTitleEl: D.getElementById('position-title'),
                scoreVisualizer: D.getElementById('score-visualizer')
            };

            // ========== CORE LOGIC & HANDLERS ==========
            const applyTheme = (theme) => { DOM.htmlElement.setAttribute('data-theme', theme); localStorage.setItem('cvReportTheme', theme); };
            const toggleDropdown = (btn, menu) => { const isOpen = menu.classList.toggle('is-open'); btn.setAttribute('aria-expanded', isOpen); };

            const populateSectionSelector = () => {
                let fragment = D.createDocumentFragment();
                DOM.allCards.forEach(card => {
                    const id = card.id;
                    const titleEl = card.querySelector('h2');
                    if (id && titleEl) {
                        const titleText = (titleEl.querySelector('span:first-child') || titleEl).textContent.replace(/[\u{1F300}-\u{1F6FF}]/gu, '').trim();
                        const link = D.createElement('a'); link.href = `#${id}`; link.textContent = titleText; fragment.appendChild(link);
                    }
                });
                DOM.sectionSelectorDropdown.innerHTML = ''; DOM.sectionSelectorDropdown.appendChild(fragment);
            };

            const setWeights = () => {
                const positionText = DOM.positionTitleEl.innerText.replace('⭐️ Позиция: ', '').trim();
                const profile = weightingProfiles[positionText] || weightingProfiles.Default;
                for (const [sectionId, sectionWeight] of Object.entries(profile.sections)) {
                    const sectionEl = D.getElementById(`card-${sectionId}`);
                    if (sectionEl) {
                        sectionEl.querySelector('.category-weight').textContent = `[${sectionWeight}%]`;
                        const itemWeights = profile.items[sectionId];
                        if (itemWeights) {
                            sectionEl.querySelectorAll('.competency-list li').forEach((li, index) => {
                                if (itemWeights[index] !== undefined) {
                                    const weightSpan = li.querySelector('.item-weight');
                                    if (weightSpan) weightSpan.textContent = `[${itemWeights[index]}%]`;
                                }
                            });
                        }
                    }
                }
            };

            const calculateAndDisplayScores = () => {
                const scoreMap = { "score-good": 5, "score-average": 3, "score-bad": 1 };
                const potentialScoreMap = { "score-good": 5, "score-average": 5, "score-bad": 1 };
                const container = D.getElementById('scoring-summary');
                if (!container) return;

                let weightedSectionScores = [], potentialWeightedSectionScores = [], pointsToVerify = [];
                const positionText = DOM.positionTitleEl.innerText.replace('⭐️ Позиция: ', '').trim();
                const profile = weightingProfiles[positionText] || weightingProfiles.Default;

                for (const sectionId of Object.keys(profile.sections)) {
                    const card = D.getElementById(`card-${sectionId}`);
                    if (!card) continue;

                    const categoryWeight = profile.sections[sectionId];
                    const itemWeights = profile.items[sectionId];
                    let currentTotalPoints = 0, potentialTotalPoints = 0, totalWeight = 0;
                    
                    const items = card.querySelectorAll('.competency-list li');
                    items.forEach((item, index) => {
                        const scoreClass = [...item.classList].find(c => c.startsWith('score-'));
                        const weight = itemWeights ? itemWeights[index] : 0;
                        if (scoreClass && weight > 0) {
                            const currentScore = scoreMap[scoreClass];
                            const potentialScore = potentialScoreMap[scoreClass];
                            currentTotalPoints += currentScore * weight;
                            potentialTotalPoints += potentialScore * weight;
                            totalWeight += weight;
                            if (scoreClass === 'score-average') {
                                pointsToVerify.push(item.querySelector('.competency-name').textContent.trim());
                            }
                        }
                    });

                    if (totalWeight > 0) {
                        weightedSectionScores.push({ score: currentTotalPoints / totalWeight, weight: categoryWeight });
                        potentialWeightedSectionScores.push({ score: potentialTotalPoints / totalWeight, weight: categoryWeight });
                    }
                }

                container.innerHTML = ''; let currentAverage = 0;
                if (weightedSectionScores.length > 0) {
                    let finalWeightedScore = 0, potentialFinalWeightedScore = 0, totalCategoryWeight = 0;
                    weightedSectionScores.forEach((item, index) => {
                        if(item.weight > 0) { finalWeightedScore += item.score * item.weight; potentialFinalWeightedScore += potentialWeightedSectionScores[index].score * item.weight; totalCategoryWeight += item.weight; }
                    });

                    currentAverage = totalCategoryWeight > 0 ? finalWeightedScore / totalCategoryWeight : 0;
                    const potentialAverage = totalCategoryWeight > 0 ? potentialFinalWeightedScore / totalCategoryWeight : 0;
                    const fragment = D.createDocumentFragment();
                    
                    if (D.querySelector('[data-integrity-risk="true"]')) {
                        const originalAverage = currentAverage; currentAverage *= 0.75;
                        const pOriginal = D.createElement('p'); pOriginal.innerHTML = `<strong>Исходная оценка: ${originalAverage.toFixed(2)} / 5.0</strong>`; fragment.appendChild(pOriginal);
                        const pPenalty = D.createElement('p'); pPenalty.style.color = 'var(--danger-color)'; pPenalty.innerHTML = '<strong>Корректировка за риск: -25%</strong>'; fragment.appendChild(pPenalty);
                        pointsToVerify.unshift("Достоверность данных ([Ключевая метрика])");
                    }
                    const pCurrent = D.createElement('p'); pCurrent.className = 'final-score'; pCurrent.innerHTML = `Текущая оценка: ${currentAverage.toFixed(2)} / 5.0`; fragment.appendChild(pCurrent);
                    if (pointsToVerify.length > 0) {
                        const pPotential = D.createElement('p'); pPotential.innerHTML = `Потенциальная оценка: ${potentialAverage.toFixed(2)} / 5.0`; fragment.appendChild(pPotential);
                        const pVerifyTitle = D.createElement('p'); pVerifyTitle.style.marginTop = '15px'; pVerifyTitle.innerHTML = '<strong>Пункты для верификации:</strong>'; fragment.appendChild(pVerifyTitle);
                        const ul = D.createElement('ul');
                        pointsToVerify.forEach(point => { const li = D.createElement('li'); li.textContent = point; ul.appendChild(li); });
                        fragment.appendChild(ul);
                    }
                    container.appendChild(fragment);
                }

                if (DOM.scoreVisualizer) {
                    const visualizerText = DOM.scoreVisualizer.querySelector('span');
                    DOM.scoreVisualizer.classList.remove('score-viz-bad', 'score-viz-average', 'score-viz-good');
                    if (currentAverage < 3.0) { DOM.scoreVisualizer.classList.add('score-viz-bad'); visualizerText.textContent = 'Требует проверки'; } 
                    else if (currentAverage < 4.2) { DOM.scoreVisualizer.classList.add('score-viz-average'); visualizerText.textContent = 'Перспективно'; }
                    else { DOM.scoreVisualizer.classList.add('score-viz-good'); visualizerText.textContent = 'Рекомендован'; }
                }
            };
            
            const downloadMarkdown = (content, fileName) => {
                const blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = D.createElement('a'); a.href = url; a.download = fileName;
                D.body.appendChild(a); a.click(); D.body.removeChild(a); URL.revokeObjectURL(url);
            };

            // ========== EVENT LISTENERS SETUP ==========
            function setupEventListeners() {
                DOM.themeSwitcher.addEventListener('click', () => applyTheme(DOM.htmlElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'));
                DOM.searchToggleBtn.addEventListener('click', () => DOM.controlsSection.classList.toggle('is-search-open'));
                DOM.searchInput.addEventListener('input', () => { const query = DOM.searchInput.value.toLowerCase().trim(); DOM.allCards.forEach(card => card.classList.toggle('is-hidden', query && !card.innerText.toLowerCase().includes(query))); });
                DOM.sectionSelectorBtn.addEventListener('click', (e) => { e.stopPropagation(); toggleDropdown(DOM.sectionSelectorBtn, DOM.sectionSelectorDropdown); });
                DOM.sectionSelectorDropdown.addEventListener('click', (e) => { if (e.target.tagName === 'A') { toggleDropdown(DOM.sectionSelectorBtn, DOM.sectionSelectorDropdown); } });
                DOM.actionsBtn.addEventListener('click', (e) => { e.stopPropagation(); toggleDropdown(DOM.actionsBtn, DOM.actionsDropdown); });
                DOM.savePdfBtn.addEventListener('click', () => window.print());
                DOM.sendEmailBtn.addEventListener('click', () => {
                    const recipient = DOM.emailInput.value; if (!recipient) { alert('Пожалуйста, введите email получателя.'); return; }
                    const subject = encodeURIComponent(`Отчет по кандидату: [Candidate Name] на позицию [Position Title]`);
                    const summary = D.querySelector('#assessment-block-recommendation').innerText.trim();
                    const comments = D.querySelector('.summary-block.verdict-block p:last-child').innerText.trim();
                    let bodyText = `Здравствуйте,\n\nВо вложении находится полный отчет по кандидату.\n\nКандидат: [Candidate Name]\nПозиция: [Position Title]\n\n${summary}\n\n`;
                    if (comments) bodyText += `Доп. комментарии:\n"${comments}"\n\n`;
                    bodyText += 'С уважением,\nHiring CoPilot.';
                    window.location.href = `mailto:${recipient}?subject=${subject}&body=${encodeURIComponent(bodyText)}`;
                });

                D.querySelectorAll('.collapsible-toggle').forEach(toggle => {
                    toggle.addEventListener('click', () => {
                        const header = toggle.parentElement;
                        const content = header.nextElementSibling;
                        const isOpen = toggle.getAttribute('aria-expanded') === 'true';
                        toggle.setAttribute('aria-expanded', !isOpen);
                        toggle.classList.toggle('is-open', !isOpen);
                        if (content) content.classList.toggle('is-open', !isOpen);
                    });
                });

                D.querySelectorAll('.action-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const id = button.id;
                        if (id === 'download-task-md-btn') {
                           const mdContent = D.getElementById('test-assignment-md').innerText;
                           downloadMarkdown(mdContent, 'Test-Assignment.md');
                        } else if (id === 'download-evaluation-md-btn') {
                           const mdContent = D.getElementById('evaluation-form-md').innerText;
                           downloadMarkdown(mdContent, 'Evaluation-Form.md');
                        }
                    });
                });

                D.addEventListener('click', (e) => { if (!DOM.sectionSelectorDropdown.contains(e.target) && !DOM.sectionSelectorBtn.contains(e.target)) { DOM.sectionSelectorDropdown.classList.remove('is-open'); DOM.sectionSelectorBtn.setAttribute('aria-expanded', 'false'); } if (!DOM.actionsDropdown.contains(e.target) && !DOM.actionsBtn.contains(e.target)) { DOM.actionsDropdown.classList.remove('is-open'); DOM.actionsBtn.setAttribute('aria-expanded', 'false'); } });
                window.addEventListener('scroll', () => { DOM.scrollToTopBtn.classList.toggle('is-visible', window.scrollY > 300); });
                DOM.scrollToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
            }

            // ========== INITIALIZATION ==========
            function init() {
                DOM.copyrightYearSpan.textContent = new Date().getFullYear();
                applyTheme(localStorage.getItem('cvReportTheme') || 'dark');
                setWeights();
                setupEventListeners();
                calculateAndDisplayScores();
                populateSectionSelector();
            }

            init();
        })();
    </script>
</body>
</html>
